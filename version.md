# FrendZona Web
## VERSION 0.2
## Build 8
(C) Dilong Sergey 2018

# CHANGELOG

# BUILD 8 || 31/01/18

* GLOBAL:
[*] Изменен формат вывода ссылок
[*] Полностью починен Service Worker
[*] Грубая переадресация на HTTPS

* language.js:
[+] Замена отдельных выражений

* linkThinker.js:
[*] Новая страница ошибки поиска соответствующего действия (неверная ссылка)

* im.js:
[-] Сохранение по Enter вызывало конфликты

* profile.js:
[*] Открытие диалога из профиля срабатывало некорректно

* updater.js (NEW):
[+] Введено окно обновления (еще не закончено)

# BUILD 7 || 29/01/18

* im.js:
[*] Генерация текста сообщения вынесена в отдельную функцию
[*] Изменения, связанные с изменениями в API
[+] Реакция на редактирование сообщений
[+] Реакция на удаление сообщений
[+] Действия для сообщения теперь динамические
[+] Полный пакет редактирования
[+] Подтверждение удаления
[+] Удаление у собеседника
[*] Исправлено автоматическое удаление сообщений из Long Poll

* sw.js:
[*] Баг с невалидным путем для обязательного файла
[+] Добавлены новые важные файлы
[*] Обновление версии

* engines.js:
[+] Функция для поиска дочернего элемента за query

* settings.js:
[+] Ночная тема теперь добавляет класс к body

* ui_elements.js:
[+] Переключатель слева в switcher
[+] customFontSize для patterns

# BUILD 6 || 27/01/18

* GLOBAL:
[-] Автоматическое обновление ресурсов
[*] Исправления в HTML
[+] Перевод вывода консоли на debug.js

* auth.css
[*] Упрощенная проверка, если нет сети

* common.js
[+] Проверка на старый IE
[*] Переход с cookies на LocalStorage

* connect.js
[*] Переход на POST запросы
[+] Реализация отправки файлов

* debug.js (NEW):
[+] Цветной вывод логов и групп логов

* dialogs.js: 
[*] Кнопка "Новое сообщение" исчезала в IE

* engines.js:
[+] Ссылки вида [id|Text]

* events.js:
[+] Сайд-бар по свайпу вправо

* im.js:
[+] ОТПРАВКА ИЗОБРАЖЕНИЙ
[*] Сообщения теперь не исчезают
[+] Сообщения сохраняются в БД
[+] Статус прочтения на пузырях
[+] Обновление статуса прочтения
[*] Залипание скролла
[+] Введена поддержка нескольких вложений
[+] Сохранение сообщений в БД
[+] Эффект появления новых сообщений
[*] Исправления в статусе печати
[*] Изменения, связанные с обновлениями в API

* mobile.css:
[+] Сайдбар остается на виду на больших экранах

* offline.js (NEW):
[+] Зачатие работы в оффлайн

* style.css:
[*] Незаметный скролл-бар в WebKit-браузерах
[*] Исправлен placeholder на экране входа в Edge

* sw.js (NEW):
[+] Реализация кеширования данных

* ui_elements.js:
[+] Закрытие модального окна по нажатию ESC

# BUILD 5 || 29/12/17

* common.js
[+] Поддержка второй строки в шапке

* style.css:
[+] Стили, связанные с информацией о пользователе в сайдбаре
[*] Исправлен фантомный скролинг когда присутствует элемент centered-div
[+] Добавлена отзывчивость пузырьков сообщений
[+] Active-эффект для кнопок
[*] Фон попапов теперь темнее
[*] Отказ от круглых button-ов
[*] Исправлен темный placeholder в окне входа (Edge)

* night.css 
[*] В ночной теме из сайдбара обложка убирается, а аватар затемняется

* settings.js:
[*] Параметры, которые ранее имели тип checkbox, теперь имеют тип switch
[+] Свойство параметра, которое обозначает функцию, что срабатывает при нажатии на заблокированный параметр

* im.js:
[+] Статус печати собеседника
[*] Контекстное меню теперь вызывается простым кликом
[*] При удалении сообщения не удалялись вложения

* auth.js:
[+] При авторизации сохраняются данные о пользователе и вставляются с сайдбар

* ui_elements.js:
[+] Закрытие модального слоя при нажатии клавиши Esc
[+] Добавлен элемент hint (подсказка при наведении)
[+] Теперь всплывающие окна появляются плавно
[+] Добавлен индекс всех отображаемых попапов
[*] Обнаружение того, что попапов не осталось переписано на индекс попапов
[+] Теперь если нажать на области вне попапа - он исчезнет
[*] Исправлен баг, при котором попапы могли забыть исчезать
[*] Исправлен баг, при котором попапы могли без причин исчезать

* ui.js:
[+] ui.loading_svg теперь дополнительно принимает цвет и стиль родительского блока

* engines.js:
[*] Еще больше улучшений в механизме вывода времени
[*] Изменен формат вывода даты

* profile.js:
[+] Идентификация, что пользователь с телефона

# BUILD 4 || 18/12/17
* GLOBAL: 
[*] Все скриты были переписаны для работы с 'use strict', который позволяет использовать let в некоторых устаревших браузерах

* dialogs.js:
[+] Добавлена плавающая кнопка "Создать сообщение"
[*] Улучшения в верстке диалогов

* common.js:
[+] Добавлена функция, которая вызывается при скролле в любом случае

* events.js:
[*] Поправки в логике функций, связанные с 'use strict'

* settings.js:
[+] Добавлен новый тип параметра field
[+] Добавлена версия приложения и ссылка на список изменений
[+] Добавлена поддержка параметров с VIP доступом
[-] Теперь оффлайн доступен только для пользователей с VIP

* night.css:
[*] Улучшения в сайдбаре

* ui.js:
[+] Добавлена функция ui.sb_highlight() для подсвечивания элементов меню
[+] Добавлена функция ui.loading_svg() для получения прелоадера по размерам

* im.js:
[+] При входе в диалог пункт "Почта" в меню продолжает подсвечиваться
[*] Изменена логика функции im.flipAction()
[+] В im.flipAction() добавлено действие прогресса отправки
[+] Кнопка отправки показывает процесс отправки (планируется перенести)
[+] Восстановление фокуса на поле ввода производится перед отправкой запроса на сервер во избежания "прыжков" клавиатуры

* engines.js:
[*] Исправлен баг с отправкой не-string в engines.text.normalize()
[*] engines.timeDisplay.date() теперь возвращает неполную дату, если f != true и текущий год совпадает с указанным
[*] Некоторые переменные введены во внутреннюю область видимости функций во избежания конфликтов


# BUILD 3 || 31/10/17
* dialogs.js:
[*] Убраны переносы в предпросмотре сообщения

* engines.js:
[+] В функцию engines.text.normalize() добавлен параметр ignore_linebreaks
[*] Некорректные URL теперь не вызывают исключение в engines.text.links()

* syles.css:
[*] У отключенных параметров больше нет кликабельного ответа

* auth.js:
[*] Улучшение механизма применения настроек

* settings.js:
[*] Изменения, связанные с механизмом применения настроек
[+] Ночная тема

* night.css (NEW):
[+] Первый релиз ночной темы

## BUILD 2 || 29/10/17
* auth.js:
[+] Добавлена функция для получения настроек с сервера
[+] Принудительная отправка офлайн-статуса при проверке токена

* common.js:
[+] Добавлены строки для работы с настройками

* connect.js:
[+] Отправка оффлайн статуса, если установлено в настройках

* dialogs.js:
[*] Все временные переменные перенесены в app.data

* engines.js:
[*] Исправлена неработоспособность engines.text.links()
[+] При генерации ссылок через engines.text.links() к ссылке добавляется title

* friends.js:
[+] Теперь вместо 404/диалога открывается профиль пользователя
[*] Все временные переменные перенесены в app.data
[*] События теперь обрабатываются через onclick

* im.js:
[+] Отправка по Enter
[*] Мелкие исправления

* events.js:
[*] Полностью переведен на addEventListener()

* profile.js (NEW):
[+] Первый релиз профиля пользователя

* settings.js (NEW):
[+] Первый релиз настроек
[*] Мелкие исправления для оффлайн статуса

* style.css:
[*] Исправления на странице входа
[+] Добавляны универсальные классы для hover-анимаций
[*] Переписана анимация "гамбургера"
[+] Добавлены строки для настроек
[+] Добавлены строки для профиля
[*] Исправлено отображение ссылок во входящих сообщениях

* ui_elements.js:
[+] Добавлен объект notification (Ещё не задействован)

## BUILD 1 || 25/10/17
* GLOBAL:
[+] common.js был разделен на составляющие, так как кода в нем становилось очень много и ориентироваться ставало сложнее

* engines.js:
[*] Исправлен getMonth() + 1 в engines.timeDisplay.date() 

* im.js (NEW):
[+] Первый релиз личных сообщений
[+] Время сообщений в контекстном меню

* dialogs.js:
[*] Полностью переписана верстка диалогов

* ui_elements.js: 
[+] Добавлен элемент контекстного меню
[*] Фикс всплывающего меню возле края